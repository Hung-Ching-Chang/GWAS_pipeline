name: Pre-imputeQC
image: master.corp.ailabs.tw/taigenomics/preimputeqc:1.0.0
category: Association Analysis
version: Pre-imputeQC 1.0.0

assessControl:

options:
  - name: REQUEST_MEMORY
    optionType: string
    required: true
    defaultValue: 170G
    description: 'The Memory requirements'
  - name: Fix_Input_with_Reference_Annotation
    optionType: string
    required: True
    defaultValue: "TRUE"
    description: 'Fix Input with Reference Annotation'
  - name: Population_Stratification
    optionType: string
    required: True
    defaultValue: None
    description: 'Performing population stratification via IBS values, ex: CHD-CHB-JPT
                  (Select: "CEU", "ASW", "MKK", "MEX", "CHD", "CHB", "JPT", "LWK", "TSI", "GIH", "YRI")'
  - name: CONTROL_GENO_QC
    optionType: float
    required: false
    defaultValue: 0.05
    description: 'threshold for Genotype Missingness'
  - name: CONTROL_MIND_QC
    optionType: float
    required: false
    defaultValue: 0.05
    description: 'threshold for Individual Missingness'
  - name: CONTROL_HWE_QC
    optionType: float
    required: false
    defaultValue: 0.0000001
    description: 'threshold for Hardy Weinberg Equilibrium'
  - name: CONTROL_MAF_QC
    optionType: float
    required: false
    defaultValue: 0.025
    description: 'threshold for Minor Allele Frequency'
  - name: CONTROL_IBD_QC
    optionType: float
    required: false
    defaultValue: 0.1875
    description: 'threshold for identity by descent'
  - name: CONTROL_HETER_SD
    optionType: float
    required: false
    defaultValue: 3
    description: 'standard deviation for heterozygosity'
  - name: CASE_GENO_QC
    optionType: float
    required: false
    defaultValue: 0.05
    description: 'threshold for Genotype Missingness in case'
  - name: CASE_MIND_QC
    optionType: float
    required: false
    defaultValue: 0.05
    description: 'threshold for Individual Missingness in case'
  - name: CASE_HWE_QC
    optionType: float
    required: false
    defaultValue: 0
    description: 'threshold for Hardy Weinberg Equilibrium in case'
  - name: CASE_MAF_QC
    optionType: float
    required: false
    defaultValue: 0.025
    description: 'threshold for Minor Allele Frequency in case'
  - name: CASE_IBD_QC
    optionType: float
    required: false
    defaultValue: 0.1875
    description: 'threshold for identity by descent'
  - name: CASE_HETER_SD
    optionType: float
    required: false
    defaultValue: 3
    description: 'standard deviation for heterozygosity in case'

res:
  - filenameEnv: REF_FASTA
    acceptableExtensions: ['.fasta.gz']
    required: false
  - filenameEnv: REF_FASTA_INDEX
    acceptableExtensions: ['.fasta.fai']
    required: false
  - filenameEnv: ANNOTATION
    acceptableExtensions: ['.vcf.gz']
    required: false
  - filenameEnv: ANNOTATION_INDEX
    acceptableExtensions: ['.vcf.gz.tbi']
    required: false
  - filenameEnv: HM_BED
    acceptableExtensions: ['.hapmap3.bed']
    required: false
  - filenameEnv: HM_BIM
    acceptableExtensions: ['.hapmap3.bim']
    required: false
  - filenameEnv: HM_FAM
    acceptableExtensions: ['.hapmap3.fam']
    required: false
  - filenameEnv: HM_INFO
    acceptableExtensions: ['.hapmap3.txt']
    required: false

in:
  - filenameEnv: IN_BED
    acceptableExtensions: ['.bed']
    required: true
  - filenameEnv: IN_BIM
    acceptableExtensions: ['.bim']
    required: true
  - filenameEnv: IN_FAM
    acceptableExtensions: ['.fam']
    required: true

out:
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CASE_BED
    extension: '.CASE.bed'
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CASE_BIM
    extension: '.CASE.bim'
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CASE_FAM
    extension: '.CASE.fam'
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CONTROL_BED
    extension: '.CONTROL.bed'
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CONTROL_BIM
    extension: '.CONTROL.bim'
  - dirnameEnv: OUT_DIR
    filenameEnv: OUT_CONTROL_FAM
    extension: '.CONTROL.fam'
